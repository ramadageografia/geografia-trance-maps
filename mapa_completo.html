import folium
from folium.plugins import HeatMap

# Criar mapa combinado
mapa_completo = folium.Map(
    location=[0, 0],
    zoom_start=2,
    tiles='CartoDB dark_matter'
)

# Dados de calor
dados_calor = [
    [-16.4479, -39.0472, 0.9],  # Universo Paralello
    [39.6000, -8.7900, 0.8],    # Boom Festival
    [16.7363, -92.6376, 0.7],   # Ometeotl Mexico
    [15.2993, 74.1240, 0.6],    # Goa
    [-33.9249, 18.4241, 0.5],   # √Åfrica do Sul
]

# Dados de fluxos
fluxos = [
    {'origem': [-23.5505, -46.6333], 'destino': [38.7223, -9.1393], 'artistas': 25},
    {'origem': [-23.5505, -46.6333], 'destino': [52.5200, 13.4050], 'artistas': 18},
    {'origem': [15.2993, 74.1240], 'destino': [38.7223, -9.1393], 'artistas': 12},
]

# Adicionar calor
HeatMap(
    dados_calor,
    min_opacity=0.4,
    radius=20,
    blur=15,
    gradient={'0.2': 'blue', '0.5': 'lime', '0.8': 'red'}
).add_to(mapa_completo)

# Adicionar fluxos
for fluxo in fluxos:
    folium.PolyLine(
        locations=[fluxo['origem'], fluxo['destino']],
        weight=fluxo['artistas'] / 4,
        color='#ffd93d',
        opacity=0.6,
        dash_array='5, 5'  # Linha tracejada
    ).add_to(mapa_completo)

# Adicionar controle de camadas
folium.LayerControl().add_to(mapa_completo)

mapa_completo.save('mapa_completo.html')
mapa_completo